@{
    ViewBag.Title = "Category list";
}
@using ASPEx_2.Helpers;
@model ASPEx_2.Models.CategoryModels

<link href="background.css" rel="stylesheet" />

<div id="MainPageDiv">
    <br />
    <h2>Category List</h2>
    @{  if (SessionSingleton.Current.CurrentUserRole != 0)
        {
            <button id="createRight" onclick="@("window.location.href='" + @Url.Action("Edit", "Category") + "'");" class="pull-right btn btn-info"> Create new category </button>
        }
    }
    <br />
    <div class="jumbotron">

        <table id="table" class="table">
            <tr>
                <td>ID</td>
                <td>Name</td>
                <td>Description</td>
                <td>Image</td>
                @{  if (SessionSingleton.Current.CurrentUserRole != 0)
                    {
                        <td>Actions</td>
                    }
                }
                
            </tr>
            @foreach (var category in Model.GetCategoriesList())
            {
            <tr>
                <td>@category.ID</td>
                <td><a href="ShowCategoryView?id=@category.ID">@category.Name</td>
                   
                <td><a href="ShowCategoryView?id=@category.ID">@category.Description</td>
                
                @{ string filename= "/Filestore" + category.ImageName.Replace('\\', '/');
                <td><img height="100" width="100" src="@filename" /></td>
                }
                <td>
                @{  if (SessionSingleton.Current.CurrentUserRole != 0)
                    {
                        <a href="Edit?id=@category.ID"><i class="glyphicon glyphicon-edit"></i></a>    <a href="Delete?id=@category.ID"><i class="glyphicon glyphicon-trash"></i></a>
                    }
                    
                }</td>
            </tr>
                    }
        </table>

    </div>
</div>